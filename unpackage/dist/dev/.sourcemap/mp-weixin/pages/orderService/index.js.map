{"version":3,"sources":["webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?ddaf","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?213d","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?2f21","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?b332","uni-app:///pages/orderService/index.vue","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?4fd4","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/orderService/index.vue?ea83","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AAC4D;;;AAGhH;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+Cv1B;AACA,gD;;AAEA;;AAEA,2B;;AAEA;AACA,MADA,kBACA;AACA;AACA,yBADA;AAEA,gBAFA;AAGA,iBAHA;AAIA,kBAJA;;AAMA,GARA;AASA,QATA,oBASA;AACA;AACA;AACA,GAZA;AAaA,QAbA,oBAaA;AACA;AACA;AACA,GAhBA;AAiBA,UAjBA,sBAiBA;AACA;AACA,GAnBA;AAoBA;AACA,eADA,yBACA;AACA;AACA;AACA,uCADA;AAEA,oBAFA;AAGA,uCAHA;AAIA,wCAJA;AAKA,iBALA;AAMA,kBANA,EADA;AAQA;AACA,uCADA;AAEA,kBAFA;AAGA,qCAHA;AAIA,sCAJA;AAKA,iBALA;AAMA,kBANA,EARA;;;AAiBA;AACA;AACA;AACA,yCADA;AAEA,0CAFA,EADA;AAIA;AACA,uCADA;AAEA,wCAFA,EAJA,CADA;;;AAUA,wBAVA;AAWA,gBAXA;AAYA,wBAZA;;AAcA,KAjCA;AAkCA,cAlCA,wBAkCA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA,EACA,gCADA,EADA;AAGA;AACA,yCADA,EACA,8BADA,EAHA,CADA;;;;AASA;AACA,KA/CA;AAgDA,iBAhDA,2BAgDA;AACA;AACA;AACA,oDADA,SACA,GADA;AAEA,uBAFA,GAEA,gBAFA;AAGA;AACA;AACA,+CALA;AAMA,SANA;AAOA,KAzDA;AA0DA,eA1DA,yBA0DA;AACA;AACA,KA5DA;AA6DA,UA7DA,oBA6DA;AACA;AACA,uCADA;AAEA;AACA;AACA,SAJA;;AAMA,KApEA;AAqEA,WArEA,qBAqEA;AACA;AACA,sCADA;;AAGA,KAzEA;AA0EA;AACA,4BADA,GA1EA,CApBA;;;AAkGA;AACA;AACA,iBADA;AAEA,eAFA,EADA,CAlGA;;;AAwGA;AACA,8BADA,EAxGA,E;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAgjD,CAAgB,i7CAAG,EAAC,C;;;;;;;;;;;ACApkD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,oG;AACAA,UAAU,CAACC,cAAD,CAAV,C","file":"pages/orderService/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=4c0d38fa&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4c0d38fa&lang=less&scoped=true&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c0d38fa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/orderService/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=4c0d38fa&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"order-service-page\">\n    <map class=\"didiMap\"\n         id=\"didiMap\"\n         :latitude=\"startPosition[0]\"\n         :longitude=\"startPosition[1]\"\n         :polyline=\"polyline\"\n         :markers=\"markers\"\n         show-location>\n\n      <cover-view class=\"driver\" v-if=\"driver.name\">\n        <driver-header :driver=\"driver\"></driver-header>\n        <cover-view class=\"driver-body\">\n          <cover-image class=\"img-looking\"\n                       src=\"/static/img/looking.png\"></cover-image>\n          <cover-view class=\"text-looking\">寻找拼友</cover-view>\n        </cover-view>\n        <cover-view class=\"driver-footer\">\n          请在2分1秒内走到上车点\n        </cover-view>\n      </cover-view>\n\n      <cover-image class=\"marker location-marker\"\n                   src=\"/static/img/location.png\"\n                   @click.stop=\"onClickMark\"></cover-image>\n\n      <cover-image class=\"marker walk-marker\"\n                   src=\"/static/img/walk.png\"\n                   @click.stop=\"onClickMark\"></cover-image>\n\n      <cover-image class=\"car-marker\" src=\"/static/img/mapCart.png\"></cover-image>\n\n      <cover-view class=\"footer-bar\">\n        <cover-view class=\"text\" @click.stop=\"cancel\">取消订单\n        </cover-view>\n        <cover-view class=\"right-border\"></cover-view>\n        <cover-view class=\"text\" @click.stop=\"endTrip\">结束行程\n        </cover-view>\n        <cover-view class=\"right-border\"></cover-view>\n        <cover-view class=\"text\">下载滴滴APP</cover-view>\n      </cover-view>\n    </map>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import DriverHeader from '../../components/driver-header.vue'\n  import {request} from '../../api/request'\n  import {mapState, mapMutations} from 'vuex'\n\n  const START_ID = 0, END_ID = 1\n\n  let animationTimer, num = 1\n\n  export default{\n    data(){\n      return {\n        isShowLoading: true,\n        driver: {},\n        markers: [],\n        polyline: [],\n      }\n    },\n    onLoad(){\n      this.getInitData()\n      this.mapCtx = wx.createMapContext(\"didiMap\");\n    },\n    onShow(){\n      this.mapCtx.moveToLocation();\n      this.requestDriver()\n    },\n    onUnload(){\n      clearInterval(animationTimer)\n    },\n    methods: {\n      getInitData(){\n        this.markers = [\n          {\n            iconPath: '/static/img/str.png',\n            id: START_ID,\n            latitude: this.startPosition[0],\n            longitude: this.startPosition[1],\n            width: 30,\n            height: 30\n          }, {\n            iconPath: '/static/img/end.png',\n            id: END_ID,\n            latitude: this.endPosition[0],\n            longitude: this.endPosition[1],\n            width: 30,\n            height: 30\n          }\n        ]\n        this.polyline = [{\n          points: [\n            {\n              latitude: this.startPosition[0],\n              longitude: this.startPosition[1]\n            }, {\n              latitude: this.endPosition[0],\n              longitude: this.endPosition[1]\n            }\n          ],\n          color: \"#f44336\",\n          width: 4,\n          dottedLine: true,\n        }]\n      },\n      setMapView(){\n        if (this.startPosition.length && this.endPosition.length) {\n          console.log('includePoints')\n          this.mapCtx.includePoints({\n            points: [\n              {\n                latitude: this.startPosition[0], longitude: this.startPosition[1]\n              }, {\n                latitude: this.endPosition[0], longitude: this.endPosition[1]\n              }\n            ]\n          })\n        }\n      },\n      requestDriver(){\n        //为了看到loading效果 设置延时\n        setTimeout(async () => {\n          const res = await request('/comments')\n          const drivers = res.data.drivers\n          this.driver = drivers[Math.floor(Math.random() * drivers.length)];\n          this.isShowLoading = false\n          this.saveDriver(this.driver)\n        }, 800)\n      },\n      onClickMark(){\n        this.mapCtx.moveToLocation();\n      },\n      cancel(){\n        wx.navigateTo({\n          url: \"/pages/orderCancel/index\",\n          success: () => {\n            clearInterval(animationTimer)\n          }\n        })\n      },\n      endTrip(){\n        wx.redirectTo({\n          url: \"/pages/evaluation/index\",\n        })\n      },\n      ...mapMutations({\n        saveDriver: 'SET_DRIVER'\n      })\n    },\n    computed: {\n      ...mapState([\n        'startPosition',\n        'endPosition'\n      ])\n    },\n    components: {\n      DriverHeader\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped rel=\"stylesheet/less\">\n  @import '../../common/less/variable';\n  @import '../../common/less/mixin1';\n\n  .order-service-page {\n    width: 100%;\n    height: 100vh;\n    .didiMap {\n      width: 100%;\n      height: 100%;\n      .driver {\n        position: absolute;\n        top: 10px;\n        left: 12px;\n        right: 12px;\n        border: ~\"1rpx\" solid @border-color-light;\n        .card-shadow();\n        background: #fff;\n        .driver-body {\n          text-align: center;\n          height: 44px;\n          width: 100%;\n          font-size: 0;\n          border-top: ~\"1rpx\" solid @border-color-light;\n          border-bottom: ~\"1rpx\" solid @border-color-light;\n          .img-looking, .text-looking {\n            vertical-align: middle;\n            display: inline-block;\n          }\n          .img-looking {\n            width: 15px;\n            height: 15px;\n            /*animation: looking 1s linear infinite;*/\n          }\n          .text-looking {\n            height: 44px;\n            line-height: 44px;\n            margin-left: 5px;\n            font-size: 14px;\n            opacity: .5;\n          }\n        }\n        .driver-footer {\n          height: 42px;\n          line-height: 42px;\n          font-size: 12px;\n          color: rgba(0, 0, 0, .7);\n          text-align: center;\n        }\n      }\n      .marker {\n        position: fixed;\n        width: 32px;\n        height: 32px;\n        left: 12px;\n      }\n      .location-marker {\n        bottom: 80px;\n      }\n      .walk-marker {\n        bottom: 125px;\n      }\n      .car-marker {\n        position: fixed;\n        top: 40%;\n        left: 40%;\n        width: 22px;\n        height: 45px;\n      }\n      .footer-bar {\n        padding: 0 12px;\n        display: flex;\n        align-items: center;\n        position: absolute;\n        bottom: 20px;\n        left: 12px;\n        right: 12px;\n        height: 44px;\n        box-sizing: border-box;\n        color: rgba(0, 0, 0, .7);\n        background: #fff;\n        .card-shadow(#e0e0e0);\n        font-size: 0;\n        .text {\n          flex: 1 1 auto;\n          display: inline-block;\n          height: 22px;\n          line-height: 22px;\n          text-align: center;\n          font-size: 18px;\n        }\n        .right-border {\n          flex: 0 0 1px;\n          height: 22px;\n          width: 1px;\n          background-color: @border-color-deep;\n        }\n      }\n    }\n  }\n\n  /*@keyframes looking {*/\n  /*0% {*/\n  /*transform: rotate(0)*/\n  /*}*/\n  /*100% {*/\n  /*transform: rotate(360deg)*/\n  /*}*/\n  /*}*/\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=4c0d38fa&lang=less&scoped=true&rel=stylesheet%2Fless&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=4c0d38fa&lang=less&scoped=true&rel=stylesheet%2Fless&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617546235127\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/orderService/index.vue'\ncreatePage(Page)"],"sourceRoot":""}