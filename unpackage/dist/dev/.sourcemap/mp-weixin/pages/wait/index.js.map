{"version":3,"sources":["uni-app:///main.js","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?f79f","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?593f","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?ce06","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?3b7e","uni-app:///pages/wait/index.vue","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?2a5e","webpack:////Users/liu/Documents/HBuilderProjects/uMa/pages/wait/index.vue?788b"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AAC4D;;;AAGhH;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiCv1B;AACA,8D;;AAEA;AACA,wB;;AAEA;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,mBAFA;;AAIA,GANA;AAOA,QAPA,oBAOA;AACA;AACA;AACA,GAVA;AAWA,UAXA,sBAWA;AACA;AACA,GAbA;AAcA;AACA,kBADA,4BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAVA;AAWA,iBAXA,2BAWA;AACA;AACA,4BADA;AAEA,iDAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA,4CADA;;AAGA;AACA,OAdA,EAcA,IAdA;AAeA,KA9BA;AA+BA,gBA/BA,wBA+BA,IA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzCA;AA0CA,UA1CA,oBA0CA;AACA;AACA,uCADA;;AAGA;AACA,KA/CA;AAgDA,QAhDA,kBAgDA;AACA;AACA,iCADA;;AAGA,KApDA;AAqDA,aArDA,uBAqDA;AACA;AACA;AACA,KAxDA,EAdA;;AAwEA;AACA;AACA,uBADA,EADA,CAxEA;;;AA6EA;AACA,8BADA,EA7EA,E;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAgjD,CAAgB,i7CAAG,EAAC,C;;;;;;;;;;;ACApkD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/wait/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/wait/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=3d5670f1&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3d5670f1&lang=less&scoped=true&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d5670f1\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/wait/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=3d5670f1&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"wait-page\">\n    <div class=\"header\">\n      <img src=\"/static/img/remind.png\">\n      <p class=\"text-header\">\n        您上车的站点为<span class=\"text-address\">「{{startFormattedPlace}}」</span>\n      </p>\n    </div>\n    <div class=\"container\">\n      <div class=\"text-desc-up\">正在为您寻找车辆和拼友</div>\n      <div class=\"text-desc-down\">每人一小步，更快更顺路</div>\n      <div class=\"circle-progress-wrapper\">\n        <canvas class=\"progress-bg\" canvas-id=\"progressBg\"></canvas>\n        <canvas class=\"progress\" canvas-id=\"progress\"></canvas>\n        <div class=\"progress-info\">\n          <div class=\"text-info\">{{progressTxt}}</div>\n          <div class=\"text-time\">{{time}}</div>\n        </div>\n      </div>\n    </div>\n    <CommonFooter\n      noShadow=\"true\"\n      leftText=\"取消订单\"\n      rightText=\"不拼车\"\n      @clickLeft=\"cancel\"\n      @clickRight=\"back\"\n    >\n    </CommonFooter>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import CommonFooter from '../../components/common-footer.vue';\n  import {mapState} from 'vuex'\n  import {formatNumber} from '../../utils/index'\n\n  let countTimer;\n  const MAX_WAIT_TIME = 180\n\n  export default{\n    data(){\n      return {\n        progressTxt: '已等待',\n        time: '00:00'\n      }\n    },\n    onShow(){\n      this.drawProgressBg();\n      this.countInterval();\n    },\n    onUnload(){\n      this.clearData()\n    },\n    methods: {\n      drawProgressBg(){\n        const ctx = wx.createCanvasContext('progressBg')\n        ctx.setLineWidth(4);\n        ctx.setStrokeStyle(\"#e5e5e5\");\n        ctx.setLineCap(\"round\");\n        ctx.beginPath();\n        ctx.arc(110, 110, 100, 0, 2 * Math.PI, false);\n        ctx.stroke();\n        ctx.draw();\n      },\n      countInterval(){\n        let cur = 0,\n          timer = new Date(0, 0),\n          randomTime = Math.floor(20 * Math.random())\n        countTimer = setInterval(() => {\n          if (cur <= randomTime) {\n            this.time = formatNumber(timer.getMinutes()) + ':' + formatNumber(timer.getSeconds())\n            timer.setMinutes(cur / 60)\n            timer.setSeconds(cur % 60)\n            this.drawProgress(cur / MAX_WAIT_TIME)\n            cur++;\n          } else {\n            this.progressTxt = '匹配成功'\n            clearInterval(countTimer);\n            wx.redirectTo({\n              url: \"/pages/orderService/index\",\n            });\n          }\n        }, 1000)\n      },\n      drawProgress(step){\n        const context = wx.createCanvasContext('progress');\n        context.setLineWidth(4);\n        context.setStrokeStyle(\"#fbcb02\");\n        context.setLineCap('round')\n        context.beginPath();\n        // 参数step 为绘制的圆环周长，从0到2为一周 。 -Math.PI / 2 将起始角设在12点钟位置 ，结束角 通过改变 step 的值确定\n        context.arc(110, 110, 100, -Math.PI / 2, step * 2 * Math.PI - Math.PI / 2, false);\n        context.stroke();\n        context.draw()\n      },\n      cancel(){\n        wx.navigateTo({\n          url: \"/pages/orderCancel/index\",\n        })\n        this.clearData()\n      },\n      back(){\n        wx.redirectTo({\n          url: \"/pages/index/index\",\n        })\n      },\n      clearData(){\n        clearInterval(countTimer);\n        this.time = '00:00'\n      }\n    },\n    computed: {\n      ...mapState([\n        'startFormattedPlace',\n      ])\n    },\n    components: {\n      CommonFooter\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped rel=\"stylesheet/less\">\n  @import '../../common/less/mixin1';\n  @import '../../common/less/variable';\n\n  .wait-page {\n    padding: 12px 12px 0;\n    height: 100vh;\n    background-color: @page-bg-color;\n    box-sizing: border-box;\n    overflow: hidden;\n    .header {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      height: 50px;\n      box-shadow: 0 0 5px #e3e4e5;\n      background-color: #fff;\n      border-radius: 3px;\n      img {\n        margin: 0 5px;\n        flex: 0 0 25px;\n        width: 25px;\n        height: 25px;\n      }\n      .text-header {\n        font-size: 14px;\n        .no-wrap();\n        .text-address {\n          color: #fc9153;\n        }\n      }\n    }\n    .container {\n      position: relative;\n      .text-desc-up, .text-desc-down {\n        text-align: center;\n        color: #666666;\n      }\n      .text-desc-up {\n        margin-top: 30px;\n        font-size: 20px;\n      }\n      .text-desc-down {\n        margin-top: 10px;\n        font-size: 16px;\n      }\n      .circle-progress-wrapper {\n        position: relative;\n        margin: 25px auto 0;\n        width: 220px;\n        height: 220px;\n        font-size: 0;\n        .progress-bg, .progress {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        .progress-info {\n          position: relative;\n          top: 75px;\n          .text-info {\n            text-align: center;\n            font-size: 14px;\n            color: #666666;\n            letter-spacing: 1px;\n          }\n          .text-time {\n            margin-top: 5px;\n            text-align: center;\n            font-size: 28px;\n            color: #fc9153;\n          }\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3d5670f1&lang=less&scoped=true&rel=stylesheet%2Fless&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=3d5670f1&lang=less&scoped=true&rel=stylesheet%2Fless&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617546235133\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}